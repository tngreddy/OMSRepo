
<div class="panel panel-default custompanel">
	<!-- Default panel contents -->
	<div class="panel-heading">
		<span class="lead">Products</span>
	</div>

	<div class="addbuttoncontainer">
		<button type="button" class="btn btn-flat bg-olive"
			uib-tooltip="Add a new Product" ng-click="addProductModal()">
			<i class="fa fa-plus"></i> Add Product
		</button>
	</div>

	<div class="tablecontainer">
		<table id="productTable" class="table table-bordered table-striped">
			<thead>
				<tr>
					<th>ProductId</th>
					<th>ProductName</th>
					<th>CategoryName</th>
					<th>UnitOfMeasure</th>
					<th>UnitBasicRate</th>
					<th>Good Balance</th>
					<th>Def Balance</th>
					<th width="5%">Edit</th>
					<th width="5%">Delete</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="product in products">
					<td><span ng-bind="product.productId"></span></td>
					<td><span ng-bind="product.productName"></span></td>
					<td><span ng-bind="product.category.categoryName"></span></td>
					<td><span ng-bind="product.unitOfMeasure"></span></td>
					<td><span ng-bind="product.unitBasicRate"></span></td>
					<td><span ng-bind="product.goodBalance"></span></td>
					<td><span ng-bind="product.defBalance"></span></td>
					<td><button class="btn btn-flat btn-sm btn-warning"
							ng-click="editProductModal(product)">
							<i class="fa fa-edit "></i>
						</button></td>
					<td><button class="btn btn-flat btn-sm btn-danger"
							ng-click="deleteProductModal(product)">
							<i class="fa fa-trash "></i>
						</button></td>


				</tr>

			</tbody>
		</table>
	</div>



	<!-- Add Product overlay -->
	<modal visible="showAddModal">
	<form novalidate angular-validator
		angular-validator-submit="addProduct()" name="addProductForm"
		class="form-horizontal">
		<div class="modal-header with-border">
			<button type="button" class="close" data-dismiss="modal"
				aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<h4 class="modal-title" id="myModalLabel">Add Product</h4>
		</div>
		<div class="modal-body">
			<div class="box-body">
				<div class="form-group">
					<label class="col-sm-3 control-label">Product Name</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" validate-on="dirty"
							name="productName" placeholder="Product Name"
							ng-model="product.productName"
							required-message="'Product Name is required'" required />

					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Category Name</label>
					<div class="col-sm-8">
						<select class="form-control" name="categoryName"
							ng-model="product.category.categoryId" validate-on="dirty"
							required-message="'Category Name is required'" required>
							<option
								ng-selected="{{category.categoryId == product.category.categoryId}}"
								ng-repeat="category in categories"
								value="{{category.categoryId}}">{{category.categoryName}}</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Unit of Measure</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" validate-on="dirty"
							name="unitOfMeasure" placeholder="Unit of Measure"
							ng-model="product.unitOfMeasure"
							required-message="'Unit of Measure is required'" required />

					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Unit Basic Rate</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="unitBasicRate"
							placeholder="Unit Basic Rate" ng-model="product.unitBasicRate"
							invalid-message="'Unit Basic Rate should be a postive number'" 
							required-message="'Unit Basic Rate is required'" required />

					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Good Balance</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="goodBalance" placeholder="Good Balance"
							ng-model="product.goodBalance" ng-init="product.goodBalance=0"
							invalid-message="'Good Balance should be a postive number'" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label">Defective Balance</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="defBalance"
							placeholder="Defective Balance" ng-model="product.defBalance"
							ng-init="product.defBalance=0"
							invalid-message="'Defective Balance should be a postive number'" />
					</div>
				</div>

			</div>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-flat btn-default"
				data-dismiss="modal">Close</button>
			<button type="submit" class="btn btn-flat btn-primary">Add</button>
		</div>
	</form>
	</modal>

	<!-- Edit Product Overlay -->
	<modal visible="showEditModal">
	<form novalidate angular-validator
		angular-validator-submit="updateProduct(product)"
		name="updateProductForm" class="form-horizontal">
		<div class="modal-header with-border">
			<button type="button" class="close" data-dismiss="modal"
				aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<h4 class="modal-title" id="myModalLabel">Edit Product</h4>
		</div>
		<div class="modal-body">
			<div class="box-body">
				<div class="form-group">
					<label class="col-sm-3 control-label">Product Name</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" validate-on="dirty"
							name="productName" placeholder="Product Name"
							ng-model="product.productName"
							required-message="'Product Name is required'" required />

					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Category Name</label>
					<div class="col-sm-8">
						<select class="form-control" name="categoryName"
							ng-model="product.category.categoryId" validate-on="dirty"
							required-message="'Category Name is required'" required>
							<option
								ng-selected="{{product.category.categoryId == category.categoryId}}"
								ng-repeat="category in categories"
								value="{{category.categoryId}}">{{category.categoryName}}</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Unit of Measure</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" validate-on="dirty"
							name="unitOfMeasure" placeholder="Unit of Measure"
							ng-model="product.unitOfMeasure"
							required-message="'Unit of Measure is required and should be a valid number'"
							required />

					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Unit Basic Rate</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="unitBasicRate"
							placeholder="Unit Basic Rate" ng-model="product.unitBasicRate"
							invalid-message="'Unit Basic Rate should be a postive number'" 
							required-message="'Unit Basic Rate is required'" required />

					</div>
				</div>
				<!-- <div class="form-group">
					<label class="col-sm-3 control-label">Good Balance</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="goodBal" placeholder="Good Balance"
							ng-model="product.goodBalance"
							invalid-message="'Good Balance should be a postive number'" />
					</div>
				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label">Defective Balance</label>
					<div class="col-sm-8">
						<input type="number" min="0" class="form-control"
							validate-on="dirty" name="defBal" placeholder="Defective Balance"
							ng-model="product.defBalance"
							invalid-message="'Defective Balance should be a postive number'" />
					</div>
				</div> -->
			</div>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-flat btn-default"
				data-dismiss="modal">Close</button>
			<button type="submit" class="btn btn-flat btn-primary">Update</button>
		</div>
	</form>
	</modal>

	<!-- Delete Product Overlay -->
	<modal size="modal-sm" visible="showDeleteModal">
	<div class="modal-header with-border">
		<button type="button" class="close" data-dismiss="modal"
			aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
		<h4 class="modal-title" id="myModalLabel">Delete Product</h4>
	</div>
	<div class="modal-body">
		<form class="form-horizontal">
			<div class="box-body">
				<div class="form-group">
					<div class="col-sm-12 text-center">
						Do you want to delete this product <strong>{{product.productName}}</strong>
					</div>
				</div>
			</div>

		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-flat btn-default"
			data-dismiss="modal">No</button>
		<button type="button" class="btn btn-flat btn-danger"
			ng-click="deleteProduct(product)">Yes</button>
	</div>
	</modal>